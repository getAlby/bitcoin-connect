"use strict";(self.webpackChunkbitcoin_connect_docs=self.webpackChunkbitcoin_connect_docs||[]).push([[70],{8614:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>r,default:()=>d,frontMatter:()=>s,metadata:()=>l,toc:()=>c});var o=n(4848),i=n(8453);const s={sidebar_position:8},r="\ud83d\ude4b\u200d\u2642\ufe0f Need help?",l={id:"faq",title:"\ud83d\ude4b\u200d\u2642\ufe0f Need help?",description:"We are happy to help, please contact us or create an issue.",source:"@site/docs/faq.md",sourceDirName:".",slug:"/faq",permalink:"/bitcoin-connect-docs/faq",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:8,frontMatter:{sidebar_position:8},sidebar:"tutorialSidebar",previous:{title:"\ud83c\udfac Demos",permalink:"/bitcoin-connect-docs/demos"},next:{title:"\ud83d\udee0\ufe0f Development",permalink:"/bitcoin-connect-docs/development"}},a={},c=[{value:"How does it work?",id:"how-does-it-work",level:3},{value:"Does this work on mobile browsers and mobile PWAs, or desktop browsers without a WebLN extension?",id:"does-this-work-on-mobile-browsers-and-mobile-pwas-or-desktop-browsers-without-a-webln-extension",level:3},{value:"Does it work with a desktop extension enabled?",id:"does-it-work-with-a-desktop-extension-enabled",level:3},{value:"Can I connect it to my mobile wallet?",id:"can-i-connect-it-to-my-mobile-wallet",level:3},{value:"Can a user connect any lightning wallet?",id:"can-a-user-connect-any-lightning-wallet",level:3},{value:"Does it &quot;remember&quot; the user if they leave the page or close the browser?",id:"does-it-remember-the-user-if-they-leave-the-page-or-close-the-browser",level:3},{value:"Is this safe?",id:"is-this-safe",level:3},{value:"What are the high level things I need to do to add this to my site?",id:"what-are-the-high-level-things-i-need-to-do-to-add-this-to-my-site",level:3},{value:"What connectors are supported?",id:"what-connectors-are-supported",level:3},{value:"If a user pays with another wallet why does the modal stay open?",id:"if-a-user-pays-with-another-wallet-why-does-the-modal-stay-open",level:3},{value:"Why is window.webln not set after connecting?",id:"why-is-windowwebln-not-set-after-connecting",level:3},{value:"Why does Bitcoin Connect not work on some pages?",id:"why-does-bitcoin-connect-not-work-on-some-pages",level:3}];function h(e){const t={a:"a",code:"code",h1:"h1",h3:"h3",li:"li",ol:"ol",p:"p",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h1,{id:"\ufe0f-need-help",children:"\ud83d\ude4b\u200d\u2642\ufe0f Need help?"}),"\n",(0,o.jsx)(t.p,{children:"We are happy to help, please contact us or create an issue."}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.a,{href:"https://twitter.com/getAlby",children:"Twitter: @getAlby"})}),"\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.a,{href:"https://t.me/getAlby",children:"Telegram group"})}),"\n",(0,o.jsx)(t.li,{children:"support at getalby.com"}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.a,{href:"https://bitcoin.design/",children:"bitcoin.design"})," Discord community (find us on the #alby channel)"]}),"\n",(0,o.jsxs)(t.li,{children:["Read the ",(0,o.jsx)(t.a,{href:"https://guides.getalby.com/overall-guide/alby-for-developers/getting-started",children:"Alby developer guide"})," to better understand how Alby packages and APIs can be used to power your app."]}),"\n"]}),"\n",(0,o.jsx)(t.h1,{id:"faq",children:"FAQ"}),"\n",(0,o.jsx)(t.h3,{id:"how-does-it-work",children:"How does it work?"}),"\n",(0,o.jsx)(t.p,{children:"Bitcoin Connect provides multiple options to the user to connect to a lightning wallet, each compatible with WebLN. Any already-existing providers of WebLN (such as an installed WebLN extension like Alby) are detected and offered, as well as options to create a new WebLN provider through protocols such as NWC. No matter which option you choose, a WebLN provider will become available for the website to use to interact with your lightning wallet. Similar to the Alby extension, new options (called Connectors) can be easily added as they all follow a common, simple interface. As long as there is a way to connect to a lightning wallet through Javascript, a connector can be created for it in Bitcoin Connect. We welcome any and all contributions for new connectors!"}),"\n",(0,o.jsx)(t.h3,{id:"does-this-work-on-mobile-browsers-and-mobile-pwas-or-desktop-browsers-without-a-webln-extension",children:"Does this work on mobile browsers and mobile PWAs, or desktop browsers without a WebLN extension?"}),"\n",(0,o.jsx)(t.p,{children:"Yes! that's the main benefit."}),"\n",(0,o.jsx)(t.h3,{id:"does-it-work-with-a-desktop-extension-enabled",children:"Does it work with a desktop extension enabled?"}),"\n",(0,o.jsx)(t.p,{children:"Yes. It will use the desktop extension as the default connector if it exists."}),"\n",(0,o.jsx)(t.h3,{id:"can-i-connect-it-to-my-mobile-wallet",children:"Can I connect it to my mobile wallet?"}),"\n",(0,o.jsx)(t.p,{children:"That depends. The connection to your lightning node / wallet needs to be asynchronous so that you can use Bitcoin Connect natively on mobile websites or PWAs."}),"\n",(0,o.jsx)(t.h3,{id:"can-a-user-connect-any-lightning-wallet",children:"Can a user connect any lightning wallet?"}),"\n",(0,o.jsx)(t.p,{children:"It will only work for the connectors that are shown in the modal. Some of these connectors (e.g. the Alby Browser Extension) allow to connect multiple wallets themselves. Feel free to contribute to add a new connector."}),"\n",(0,o.jsx)(t.h3,{id:"does-it-remember-the-user-if-they-leave-the-page-or-close-the-browser",children:'Does it "remember" the user if they leave the page or close the browser?'}),"\n",(0,o.jsx)(t.p,{children:"Yes. Your connection is saved to localStorage"}),"\n",(0,o.jsx)(t.h3,{id:"is-this-safe",children:"Is this safe?"}),"\n",(0,o.jsxs)(t.p,{children:["You should have a certain level of trust on the website you decide to connect your wallet with, and that they ensure there is no malicious third-party scripts which would intend to read the wallet connection configuration, either from memory or storage. We heavily recommend to add ",(0,o.jsx)(t.a,{href:"https://cheatsheetseries.owasp.org/cheatsheets/Content_Security_Policy_Cheat_Sheet.html",children:"CSP rules"})," to your site and follow ",(0,o.jsx)(t.a,{href:"https://cheatsheetseries.owasp.org/cheatsheets/Cross_Site_Scripting_Prevention_Cheat_Sheet.html",children:"best practices"})," to prevent XSS."]}),"\n",(0,o.jsx)(t.p,{children:"Connectors with budget controls or confirmation dialogs (Alby extension or NWC) are recommended so you have full control over your connection."}),"\n",(0,o.jsx)(t.h3,{id:"what-are-the-high-level-things-i-need-to-do-to-add-this-to-my-site",children:"What are the high level things I need to do to add this to my site?"}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsx)(t.li,{children:'add the "Connect Wallet" button'}),"\n",(0,o.jsx)(t.li,{children:"wait for a connection event (using window.addEventListener) and then request to pay the invoice with window.webln"}),"\n"]}),"\n",(0,o.jsx)(t.h3,{id:"what-connectors-are-supported",children:"What connectors are supported?"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.a,{href:"https://getalby.com",children:"Alby Browser extension"})}),"\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.a,{href:"https://nwc.getalby.com",children:"Alby NWC"})}),"\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.a,{href:"https://github.com/lightninglabs/lightning-node-connect",children:"LNC"})}),"\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.a,{href:"https://lnbits.com/",children:"LNbits"})}),"\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.a,{href:"https://www.mutinywallet.com/",children:"Mutiny NWC URL"})}),"\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.a,{href:"https://github.com/nostr-protocol/nips/blob/master/47.md",children:"Generic NWC URL"})}),"\n"]}),"\n",(0,o.jsx)(t.h3,{id:"if-a-user-pays-with-another-wallet-why-does-the-modal-stay-open",children:"If a user pays with another wallet why does the modal stay open?"}),"\n",(0,o.jsxs)(t.p,{children:["Bitcoin Connect cannot detect payments made externally. It's up to your app to detect the payment and then programmatically close the modal using the exposed ",(0,o.jsx)(t.code,{children:"closeModal"})," function."]}),"\n",(0,o.jsx)(t.h3,{id:"why-is-windowwebln-not-set-after-connecting",children:"Why is window.webln not set after connecting?"}),"\n",(0,o.jsxs)(t.p,{children:["The global ",(0,o.jsx)(t.code,{children:"window.webln"})," object can be overridden if there are multiple providers, leading to unexpected behaviour. We recommend using the ",(0,o.jsx)(t.code,{children:"requestProvider"})," function to obtain a WebLN provider instead of relying on the global window object."]}),"\n",(0,o.jsx)(t.h3,{id:"why-does-bitcoin-connect-not-work-on-some-pages",children:"Why does Bitcoin Connect not work on some pages?"}),"\n",(0,o.jsxs)(t.p,{children:["Bitcoin Connect must be imported at the root component or on every component that requires webln to ensure webln is available. If you only import the button in your settings page, you'll still need to import the library where you want to make a lightning payment. We recommend using the ",(0,o.jsx)(t.code,{children:"requestProvider"})," function."]})]})}function d(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>l});var o=n(6540);const i={},s=o.createContext(i);function r(e){const t=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),o.createElement(s.Provider,{value:t},e.children)}}}]);